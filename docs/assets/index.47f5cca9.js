import{r as p,c as m,o as c,a as d,w as g,v as _,u as f,b as r,i as k,d as C,e as D,F as w,f as x,n as v,t as $,g as F,h as N,j as h,k as S}from"./vendor.8114506e.js";const b=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}};b();const A={class:"header"},V=r("h1",null,"todos",-1),L=r("label",{for:"taggle-all"},null,-1),O=["onKeydown"],T={props:{arr:{type:Array,required:!0}},emits:["create"],setup(u,{emit:t}){const i=u,s=p(""),e=m({set:l=>i.arr.forEach(a=>a.isDone=l),get:()=>i.arr.length!==0&&i.arr.every(l=>l.isDone===!0)}),o=()=>{if(s.value.trim().length===0)return alert("not null");t("create",s.value),s.value=""};return(l,a)=>(c(),d("header",A,[V,g(r("input",{class:"toggle-all",id:"toggle-all",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=n=>k(e)?e.value=n:null)},null,512),[[_,f(e)]]),L,g(r("input",{class:"new-todo",placeholder:"\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",autofocus:"",onKeydown:D(o,["enter"]),"onUpdate:modelValue":a[1]||(a[1]=n=>s.value=n)},null,40,O),[[C,s.value]])]))}},q={class:"todo-list"},I={class:"view"},K=["onUpdate:modelValue"],U=["onClick"],B={props:{arr:{type:Array,required:!0}},emits:["del"],setup(u,{emit:t}){return(i,s)=>(c(),d("ul",q,[(c(!0),d(w,null,x(u.arr,e=>(c(),d("li",{class:v({completed:e.isDone}),key:e.id},[r("div",I,[g(r("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":o=>e.isDone=o},null,8,K),[[_,e.isDone]]),r("label",null,$(e.name),1),r("button",{class:"destroy",onClick:o=>t("del",e.id)},null,8,U)])],2))),128))]))}},E={class:"footer"},M={class:"todo-count"},J=F("\u5269\u4F59"),P={props:{farr:{type:Array,required:!0}},emits:["changeType","clear"],setup(u,{emit:t}){const i=u,s=p("all"),e=m(()=>i.farr.length);return(o,l)=>(c(),d("footer",E,[r("span",M,[J,r("strong",null,$(f(e)),1)]),r("ul",{class:"filters",onClick:l[3]||(l[3]=a=>t("changeType",s.value))},[r("li",null,[r("a",{class:v({selected:s.value==="all"}),onClick:l[0]||(l[0]=a=>s.value="all"),href:"javascript:;"},"\u5168\u90E8",2)]),r("li",null,[r("a",{class:v({selected:s.value==="no"}),onClick:l[1]||(l[1]=a=>s.value="no"),href:"javascript:;"},"\u672A\u5B8C\u6210",2)]),r("li",null,[r("a",{class:v({selected:s.value==="yes"}),onClick:l[2]||(l[2]=a=>s.value="yes"),href:"javascript:;"},"\u5DF2\u5B8C\u6210",2)])]),r("button",{class:"clear-completed",onClick:l[4]||(l[4]=a=>t("clear"))},"\u6E05\u9664\u5DF2\u5B8C\u6210")]))}},z={class:"todoapp"},R={setup(u){const t=p(JSON.parse(localStorage.getItem("todolist"))||[]),i=p("all"),s=n=>t.value.push({id:t.value.length===0?100:t.value[t.value.length-1].id+1,name:n,isDone:!1}),e=n=>t.value.splice(t.value.findIndex(y=>y.id===n),1),o=n=>i.value=n,l=()=>t.value=t.value.filter(n=>n.isDone===!1),a=m(()=>i.value==="yes"?t.value.filter(n=>n.isDone===!0):i.value==="no"?t.value.filter(n=>n.isDone===!1):t.value);return N([t,t.value],()=>localStorage.setItem("todolist",JSON.stringify(t.value))),(n,y)=>(c(),d("section",z,[h(T,{arr:t.value,onCreate:s},null,8,["arr"]),h(B,{arr:f(a),onDel:e},null,8,["arr"]),h(P,{farr:f(a),onChangeType:o,onClear:l},null,8,["farr"])]))}};S(R).mount("#app");
